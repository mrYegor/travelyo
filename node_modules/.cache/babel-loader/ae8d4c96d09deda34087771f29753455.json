{"ast":null,"code":"import _slicedToArray from \"/home/yehor/public_html/travelyo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/yehor/public_html/travelyo/src/App.js\";\nimport React, { useEffect } from 'react';\nimport EventsList from './events/EvensList';\nimport ImageSlider from './imageSlider/ImageSlider';\nimport Context from 'context';\n\nfunction App() {\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        events = _React$useState2[0],\n        setEvents = _React$useState2[1];\n\n  const _React$useState3 = React.useState(2),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        eventsCount = _React$useState4[0],\n        setEventsCount = _React$useState4[1];\n\n  const _React$useState5 = React.useState(false),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        visibleSlider = _React$useState6[0],\n        toggleSliderVisibility = _React$useState6[1];\n\n  const _React$useState7 = React.useState([]),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        images = _React$useState8[0],\n        setImages = _React$useState8[1];\n\n  const addEventBtn = React.createRef();\n\n  function getEvents(eventsCount) {\n    fetch('https://s3.eu-central-1.amazonaws.com/js.smartair.co.il/custom/activities.json').then(resp => resp.json()).then(events => {\n      // Object.values() doesn't work in my version of Chrome, so I cheated in this case\n      events = Object.keys(events.activities).map(key => events.activities[key]);\n\n      if (events.length > eventsCount) {\n        events.length = eventsCount;\n      } else {\n        addEventBtn.current.classList.add('none');\n      }\n\n      setEvents(events);\n      setEventsCount(eventsCount + 1);\n    });\n  }\n\n  useEffect(() => {\n    getEvents(eventsCount);\n  }, []);\n\n  function addEvent() {\n    getEvents(eventsCount);\n  }\n\n  function getImages(img) {\n    images.length = 0;\n    setImages(images.concat([...img]));\n    console.log(images);\n  }\n\n  return React.createElement(Context.Provider, {\n    value: {\n      getImages\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(ImageSlider, {\n    visibleSlider: visibleSlider,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(EventsList, {\n    events: events,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"show-more-btn\",\n    onClick: addEvent,\n    ref: addEventBtn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Show more\")));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/yehor/public_html/travelyo/src/App.js"],"names":["React","useEffect","EventsList","ImageSlider","Context","App","useState","events","setEvents","eventsCount","setEventsCount","visibleSlider","toggleSliderVisibility","images","setImages","addEventBtn","createRef","getEvents","fetch","then","resp","json","Object","keys","activities","map","key","length","current","classList","add","addEvent","getImages","img","concat","console","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,OAAP,MAAoB,SAApB;;AAEA,SAASC,GAAT,GAAe;AAAA,0BACeL,KAAK,CAACM,QAAN,CAAe,EAAf,CADf;AAAA;AAAA,QACNC,MADM;AAAA,QACEC,SADF;;AAAA,2BAEyBR,KAAK,CAACM,QAAN,CAAe,CAAf,CAFzB;AAAA;AAAA,QAENG,WAFM;AAAA,QAEOC,cAFP;;AAAA,2BAGmCV,KAAK,CAACM,QAAN,CAAe,KAAf,CAHnC;AAAA;AAAA,QAGNK,aAHM;AAAA,QAGSC,sBAHT;;AAAA,2BAIeZ,KAAK,CAACM,QAAN,CAAe,EAAf,CAJf;AAAA;AAAA,QAINO,MAJM;AAAA,QAIEC,SAJF;;AAMb,QAAMC,WAAW,GAAGf,KAAK,CAACgB,SAAN,EAApB;;AAEA,WAASC,SAAT,CAAmBR,WAAnB,EAAgC;AAC5BS,IAAAA,KAAK,CAAC,gFAAD,CAAL,CACKC,IADL,CACUC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADlB,EAEKF,IAFL,CAEWZ,MAAD,IAAY;AACd;AACAA,MAAAA,MAAM,GAAGe,MAAM,CAACC,IAAP,CAAYhB,MAAM,CAACiB,UAAnB,EAA+BC,GAA/B,CAAmCC,GAAG,IAAInB,MAAM,CAACiB,UAAP,CAAkBE,GAAlB,CAA1C,CAAT;;AACA,UAAGnB,MAAM,CAACoB,MAAP,GAAgBlB,WAAnB,EAAgC;AAC5BF,QAAAA,MAAM,CAACoB,MAAP,GAAgBlB,WAAhB;AACH,OAFD,MAEO;AACJM,QAAAA,WAAW,CAACa,OAAZ,CAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,MAAlC;AACF;;AACDtB,MAAAA,SAAS,CAACD,MAAD,CAAT;AACAG,MAAAA,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;AACH,KAZL;AAaH;;AAEDR,EAAAA,SAAS,CAAC,MAAM;AACZgB,IAAAA,SAAS,CAACR,WAAD,CAAT;AACH,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASsB,QAAT,GAAoB;AAChBd,IAAAA,SAAS,CAACR,WAAD,CAAT;AACH;;AAED,WAASuB,SAAT,CAAmBC,GAAnB,EAAwB;AACpBpB,IAAAA,MAAM,CAACc,MAAP,GAAgB,CAAhB;AACAb,IAAAA,SAAS,CAACD,MAAM,CAACqB,MAAP,CAAc,CAAC,GAAGD,GAAJ,CAAd,CAAD,CAAT;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYvB,MAAZ;AACH;;AAED,SACI,oBAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAE;AAACmB,MAAAA;AAAD,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAa,IAAA,aAAa,EAAErB,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAEJ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,eAAhC;AAAgD,IAAA,OAAO,EAAEwB,QAAzD;AAAmE,IAAA,GAAG,EAAEhB,WAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,CADF,CADJ;AASD;;AAED,eAAeV,GAAf","sourcesContent":["import React, {useEffect} from 'react';\nimport EventsList from './events/EvensList';\nimport ImageSlider from './imageSlider/ImageSlider';\nimport Context from 'context';\n\nfunction App() {\n  const [events, setEvents] = React.useState([]);\n  const [eventsCount, setEventsCount] = React.useState(2);\n  const [visibleSlider, toggleSliderVisibility] = React.useState(false);\n  const [images, setImages] = React.useState([]);\n\n  const addEventBtn = React.createRef();\n\n  function getEvents(eventsCount) {\n      fetch('https://s3.eu-central-1.amazonaws.com/js.smartair.co.il/custom/activities.json')\n          .then(resp => resp.json())\n          .then((events) => {\n              // Object.values() doesn't work in my version of Chrome, so I cheated in this case\n              events = Object.keys(events.activities).map(key => events.activities[key]);\n              if(events.length > eventsCount) {\n                  events.length = eventsCount;\n              } else {\n                 addEventBtn.current.classList.add('none');\n              }\n              setEvents(events);\n              setEventsCount(eventsCount + 1);\n          })\n  }\n\n  useEffect(() => {\n      getEvents(eventsCount)\n  }, []);\n\n  function addEvent() {\n      getEvents(eventsCount);\n  }\n\n  function getImages(img) {\n      images.length = 0;\n      setImages(images.concat([...img]));\n      console.log(images)\n  }\n\n  return (\n      <Context.Provider value={{getImages}}>\n        <div className=\"wrapper\">\n          <ImageSlider visibleSlider={visibleSlider}/>\n          <EventsList events={events}/>\n          <button type=\"submit\" className='show-more-btn' onClick={addEvent} ref={addEventBtn}>Show more</button>\n        </div>\n      </Context.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}